# Планировщик задач

### О проекте

Веб-сервер, реализующий функционал планировщика задач — аналог TODO-листа.

Планировщик хранит задачи; каждая из них содержит дату дедлайна и заголовок с комментарием. Задачи могут повторяться по заданному правилу: например, ежегодно, через какое-то количество дней, в определённые дни месяца или недели. Если отметить такую задачу как выполненную, она переносится на следующую дату в соответствии с правилом. Обычные задачи при выполнении будут просто удаляться.

API содержит следующие операции:

- добавить задачу;
- получить список задач;
- удалить задачу;
- получить параметры задачи;
- изменить параметры задачи;
- отметить задачу как выполненную.


### Архитектура проекта

```
├── pkg
│   ├── api                   # Обработчики API запросов
│	│
│   ├── db                    # Работа с базой данных
│	│
│   ├── repeat                # Логика повторения задач
│	│
│   └── server                # Запуск сервера
│
├── tests                     # Тесты для проверки API
│
└── web                       # Фронтенд
	├──css
	│
	└──js
```


### Задания со звёздочкой

1. Реализована возможность определять извне порт при запуске сервера. Если существует переменная окружения `TODO_PORT`, сервер при старте слушает порт со значением этой переменной.

```bash
# Запуск с портом по умолчанию (7540)
go run main.go
# Запуск с кастомным портом через переменную окружения
TODO_PORT=9000 go run main.go
```

2. Реализована возможность определять путь к файлу базы данных через переменную окружения. Для этого сервер получает значение переменной окружения TODO_DBFILE и использует его в качестве пути к базе данных, если это не пустая строка.

```bash
# Без переменной окружения (scheduler.db по умолчанию)
go run main.go
# Использование переменной окружения
TODO_DBFILE="database.db" go run main.go
```

3. Реализован пакет с логикой повторения задач. Помимо базовых правил (перенос на количество дней или год), есть правила со сложными условиями (задача назначается в указанные дни недели или месяца).